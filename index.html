<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ForgeVerse – A Pixel Economy on Solana</title>
  <meta name="description" content="ForgeVerse – Pixel economy on Solana. Stake, Forge and Trade to grow your NFT empire."/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/styles.css"/>
</head>
<body>
  <header class="header">
    <div class="container header__inner">
      <div class="brand">
        <img src="assets/forgeverse-logo.svg" alt="ForgeVerse logo" class="brand__logo"/>
        <span class="brand__name neon-glow">ForgeVerse</span>
      </div>
      <nav class="nav">
        <a href="#about">About</a>
        <a href="#mint">Mint your NFT</a>
        <a href="#nfts">Your NFTs</a>
        <a href="#stake">Stake your NFTs</a>
        <a href="#fusion">Fusion Lab</a>
        <a href="#game">Game</a>
        <a href="#ranking">Ranking</a>
        <a href="#merch">Merch</a>
        <a href="#chat">Chat</a>
      </nav>
      <button id="connectBtn" class="btn btn--wallet">Connect Wallet</button>
    </div>
  </header>

  <section class="hero">
    <div class="container hero__inner">
      <h1 class="title neon-glow">A Pixel Economy on Solana</h1>
      <p class="subtitle">Stake, Forge &amp; Trade to grow your NFT empire.</p>
      <div class="hero__cta">
        <a href="#mint" class="btn btn--primary">Mint your NFT</a>
        <a href="#about" class="btn btn--secondary">Read Whitepaper</a>
      </div>
    </div>
    <div class="grid-bg"></div>
  </section>

  <main class="main">
    <section id="about" class="section">
      <div class="container">
        <h2 class="section__title">About</h2>
        <p class="section__text">
          ForgeVerse connects NFTs, gaming, and a resource-driven economy. Each NFT has a role:
          <strong>Traders</strong> earn $DOLLAR, <strong>Farmers</strong> grow $FOOD, and
          <strong>Workers</strong> mine $METAL. Use resources to feed, forge, and fuse your NFTs.
        </p>
  <!-- === ForgeVerse Docs (Whitepaper / Pitchdeck / Roadmap) – One Paste v3 === -->
<section id="about" style="color:#fff;">
  <h2 class="section__title">About</h2>
  <p class="section__text">
    ForgeVerse connects NFTs, gaming, and a resource-driven economy. Each NFT has a role:
    <strong>Traders</strong> earn $DOLLAR, <strong>Farmers</strong> grow $FOOD, and
    <strong>Workers</strong> mine $METAL. Use resources to feed, forge, and fuse your NFTs.
  </p>

  <!-- Cards / Buttons -->
  <div id="fv-docs-cards" style="display:flex; gap:20px; flex-wrap:wrap; margin-top:22px;">
    <button data-doc="whitepaper" class="fv-card">Whitepaper</button>
    <button data-doc="pitchdeck"  class="fv-card">Pitchdeck</button>
    <button data-doc="roadmap"    class="fv-card">Roadmap</button>
  </div>

  <!-- PDF Viewer -->
  <div id="fv-docs-viewer" class="fv-viewer">
    <button id="fv-close-btn" class="fv-close">✕ CLOSE</button>
    <iframe id="fv-docs-frame" src="" width="100%" height="820"></iframe>
  </div>
</section>

<!-- === Styling === -->
<style>
  .fv-card {
    flex:1 1 220px; min-height:72px;
    background:#0D0D0F; color:#66FAFF; cursor:pointer;
    border:2px solid #66FAFF; border-radius:8px;
    font-family:'Press Start 2P', monospace; font-size:12px;
    display:flex; align-items:center; justify-content:center;
    transition:transform .1s ease, box-shadow .15s ease, background .15s ease;
  }
  .fv-card:hover {
    transform:translateY(-2px);
    box-shadow:0 0 14px #66FAFF55;
  }

  /* Viewer styling */
  .fv-viewer {
    display:none;
    opacity:0;
    margin-top:24px;
    position:relative;
    border:2px solid #66FAFF;
    box-shadow:0 0 20px #00ffff55;
    border-radius:12px;
    background:#0D0D0F;
    overflow:hidden;
    transition:opacity 0.5s ease;
  }
  .fv-viewer.show {
    display:block;
    opacity:1;
  }
  .fv-viewer iframe {
    border:none;
    width:100%;
    height:820px;
    border-radius:12px;
  }

  /* Close button */
  .fv-close {
    position:absolute;
    top:10px; right:15px;
    background:#0D0D0F; color:#FFB347;
    border:2px solid #FFB347; border-radius:6px;
    font-family:'Press Start 2P', monospace; font-size:10px;
    padding:8px 10px; cursor:pointer;
    box-shadow:0 0 10px #FFB34755;
    z-index:2;
    transition:all .2s ease;
  }
  .fv-close:hover {
    background:#FFB347;
    color:#0D0D0F;
    box-shadow:0 0 15px #FFB34788;
  }
  @media (max-width:900px){ .fv-viewer iframe{ height:620px; } }
</style>

<!-- === Script === -->
<script>
  (function(){
    const DOCS = {
      whitepaper: "https://drive.google.com/file/d/1QGnx0QtJHX5SH0qMnDksHnqTYU9S6U5o/preview",
      pitchdeck:  "https://drive.google.com/file/d/1GAAIlu69a2IzVHh3-MJVKySi_-tdMGGG/preview",
      roadmap:    "https://drive.google.com/file/d/1BZcNeluxr7n2-KBxQb-LPPeFNgrI-IkU/preview"
    };

    const cards  = document.querySelectorAll('#fv-docs-cards .fv-card');
    const viewer = document.getElementById('fv-docs-viewer');
    const frame  = document.getElementById('fv-docs-frame');
    const close  = document.getElementById('fv-close-btn');

    // Dokument öffnen/schließen per Klick
    cards.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const key = btn.getAttribute('data-doc');
        if (frame.src === DOCS[key] && viewer.classList.contains('show')) {
          hideViewer();
        } else {
          frame.src = DOCS[key];
          showViewer();
        }
      });
    });

    // Close Button
    close.addEventListener('click', hideViewer);

    // Funktionen
    function showViewer() {
      viewer.classList.add('show');
      const top = viewer.getBoundingClientRect().top + window.pageYOffset - 90;
      window.scrollTo({ top, behavior: 'smooth' });
    }

    function hideViewer() {
      viewer.classList.remove('show');
      setTimeout(()=>{ viewer.style.display='none'; frame.src=''; }, 400);
      // nach kurzer Zeit wieder sichtbar machen für nächste Öffnung
      setTimeout(()=>{ viewer.style.display='block'; }, 800);
    }
  })();
</script>
<!-- === /ForgeVerse Docs Block v3 === -->

</section>

<!-- Scoped styles for the three cards -->
<style>
  .fv-card{
    flex:1 1 220px; min-height:72px;
    background:#0D0D0F; color:#66FAFF; cursor:pointer;
    border:2px solid #66FAFF; border-radius:8px;
    font-family:'Press Start 2P', monospace; font-size:12px;
    display:flex; align-items:center; justify-content:center;
    transition:transform .08s ease, box-shadow .15s ease, background .15s ease;
  }
  .fv-card:hover{ transform:translateY(-2px); box-shadow:0 0 14px #66FAFF55; }
  @media (max-width: 900px){ #fv-docs-frame{ height: 620px; } }
</style>

<!-- Minimal JS (keine Abhängigkeiten) -->
<script>
  (function(){
    // Deine Dokument-Links (Drive-IDs im /preview-Format):
    const DOCS = {
      whitepaper: "https://drive.google.com/file/d/1QGnx0QtJHX5SH0qMnDksHnqTYU9S6U5o/preview",
      pitchdeck:  "https://drive.google.com/file/d/1GAAIlu69a2IzVHh3-MJVKySi_-tdMGGG/preview",
      roadmap:    "https://drive.google.com/file/d/1BZcNeluxr7n2-KBxQb-LPPeFNgrI-IkU/preview"
    };

    const cards  = document.querySelectorAll('#fv-docs-cards .fv-card');
    const viewer = document.getElementById('fv-docs-viewer');
    const frame  = document.getElementById('fv-docs-frame');

    cards.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const key = btn.getAttribute('data-doc');
        frame.src = DOCS[key] || '';
        if (frame.src) {
          viewer.style.display = 'block';
          // sanft hinscrollen
          const top = viewer.getBoundingClientRect().top + window.pageYOffset - 90;
          window.scrollTo({ top, behavior: 'smooth' });
        }
      });
    });
  })();
</script>
<!-- === /ForgeVerse Docs Block === -->

    </section>

    <section id="mint" class="section">
      <div class="container">
        <h2 class="section__title">Mint your NFT</h2>
        <p class="section__text">Embed your launchpad/button here. Until then, this button shows a demo.</p>
        <button class="btn btn--primary" onclick="demoMint()">Mint (Demo)</button>
      </div>
    </section>

    <section id="nfts" class="section">
      <div class="container"><h2 class="section__title">Your NFTs</h2><p class="section__text">After wallet connect, your NFTs can be displayed here (gallery embed or API).</p></div>
    </section>

    <section id="stake" class="section">
      <div class="container"><h2 class="section__title">Stake your NFTs</h2><p class="section__text">Staking UI will appear here (Anchor program later). For now, it's a placeholder.</p></div>
    </section>

    <section id="fusion" class="section">
      <div class="container"><h2 class="section__title">Fusion Lab</h2><p class="section__text">Fuse two NFTs using $FOOD and $METAL to obtain a stronger NFT. Placeholder area.</p></div>
    </section>

    <section id="game" class="section">
      <div class="container"><h2 class="section__title">Game</h2><p class="section__text">Connect your wallet and play to unlock session-based reward boosts. Placeholder.</p></div>
    </section>

    <section id="ranking" class="section">
      <div class="container"><h2 class="section__title">Ranking</h2><p class="section__text">Leaderboard of top players and collectors. For MVP, embed a Google Sheet here.</p></div>
    </section>

    <section id="merch" class="section">
      <div class="container"><h2 class="section__title">Merch Store</h2><p class="section__text">NFT holder discounts. Link your Shopify/WooCommerce store here.</p></div>
    </section>

    <section id="chat" class="section">
      <div class="container"><h2 class="section__title">Chat</h2><p class="section__text">Embed Discord widget or later add in-site chat with wallet auth.</p></div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer__grid">
        <div>
          <div class="brand brand--footer">
            <div class="brand__box neon-border">FV</div>
            <span class="brand__name neon-glow">ForgeVerse</span>
          </div>
          <p class="muted">A Pixel Economy on Solana</p>
          <div class="socials">
            <a aria-label="Twitter" href="#" target="_blank">Twitter</a>
            <a aria-label="Telegram" href="#" target="_blank">Telegram</a>
            <a aria-label="GitHub" href="#" target="_blank">GitHub</a>
            <a aria-label="Discord" href="#" target="_blank">Discord</a>
          </div>
        </div>
        <div>
          <h3 class="footer__title">Quick Links</h3>
          <ul class="footer__list">
            <li><a href="#about">About</a></li>
            <li><a href="#mint">Mint NFT</a></li>
            <li><a href="#stake">Stake</a></li>
            <li><a href="#fusion">Fusion Lab</a></li>
          </ul>
        </div>
        <div>
          <h3 class="footer__title">Community</h3>
          <ul class="footer__list">
            <li><a href="#game">Game</a></li>
            <li><a href="#ranking">Ranking</a></li>
            <li><a href="#merch">Merch</a></li>
            <li><a href="#chat">Chat</a></li>
          </ul>
        </div>
        <div>
          <h3 class="footer__title">Legal</h3>
          <ul class="footer__list">
            <li><a href="#">Terms of Service</a></li>
            <li><a href="#">Privacy Policy</a></li>
            <li><a href="#">Whitepaper</a></li>
            <li><a href="#">FAQ</a></li>
          </ul>
        </div>
      </div>
      <div class="divider"></div>
      <div class="copyright">
        <p class="neon-glow">© 2025 ForgeVerse Labs</p>
        <p>Built on Solana • Powered by the Community</p>
      </div>
    </div>
  </footer>

    <script src="js/main.js"></script>

  <!-- Simple Phantom connect (no extra libs) -->
  <script>
  (function () {
    const btn = document.getElementById('connectBtn');
    if (!btn) return;

    function setInstall() {
      btn.textContent = 'Install Phantom';
      btn.disabled = false;
      btn.style.backgroundColor = '#FFB347';
      btn.onclick = () => window.open('https://phantom.app/', '_blank');
    }

    // Detect provider (desktop Phantom or mobile Phantom)
    const provider =
      window.solana ||
      (window.phantom && window.phantom.solana) ||
      null;

    // No provider found → show install button
    if (!provider || !provider.isPhantom) {
      setInstall();
      return;
    }

    // Click → connect
    btn.addEventListener('click', async () => {
      try {
        const resp = await provider.connect({ onlyIfTrusted: false });
        const pubkey = resp.publicKey.toString();
        const short = pubkey.slice(0, 4) + '...' + pubkey.slice(-4);
        btn.textContent = 'Connected: ' + short;
        btn.disabled = true;
        btn.style.backgroundColor = '#66FAFF';
      } catch (e) {
        alert('Wallet-Verbindung abgebrochen.');
      }
    });

    // Schon verbunden? (z.B. nach Refresh)
    if (provider.isConnected && provider.publicKey) {
      const pk = provider.publicKey.toString();
      const short = pk.slice(0, 4) + '...' + pk.slice(-4);
      btn.textContent = 'Connected: ' + short;
      btn.disabled = true;
      btn.style.backgroundColor = '#66FAFF';
    }

    // Optional: reaktiv auf connect events
    if (provider.on) {
      provider.on('connect', (pk) => {
        const s = pk.toString();
        const short = s.slice(0, 4) + '...' + s.slice(-4);
        btn.textContent = 'Connected: ' + short;
        btn.disabled = true;
        btn.style.backgroundColor = '#66FAFF';
      });
      provider.on('disconnect', () => {
        btn.textContent = 'Connect Wallet';
        btn.disabled = false;
        btn.style.backgroundColor = '#FFB347';
      });
    }
  })();
  </script>
</body>
</html>
